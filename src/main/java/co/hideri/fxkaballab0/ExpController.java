package co.hideri.fxkaballab0;

import javafx.fxml.FXML;
import javafx.scene.chart.LineChart;
import javafx.scene.chart.NumberAxis;
import javafx.scene.chart.XYChart;
import javafx.scene.control.TextArea;

import java.util.List;

public class ExpController {
    @FXML private NumberAxis botAx;
    @FXML private NumberAxis leftAx;
    @FXML private LineChart<Number, Number>  expChart;

    @FXML private TextArea expText;

    @FXML public void initialize(){
        this.visualize();
    }

    private void visualize() {

        //double[] dataHideri = {12038, 16787, 19887, 23899, 27644, 30806, 34400, 37131, 40162, 42771, 44814, 45232, 60384, 66912, 69055, 71238, 73273, 75155, 75655, 76216, 76846, 78608, 78990, 79558, 80412, 81384, 82728, 84152, 86023};
        double[] dataHideri = {
                46595656,
                47144100,
                47709544,
                48201699,
                48821016,
                49444194,
                50043386,
                50534230,
                51044098,
                51615148,
                52239938,
                52880262,
                53541412,
                54128224,
                54618385,
                55144413,
                55746620,
                56368860,
                57022723,
                57696959,
                58289286,
                58787365,
                59321709,
                59912369,
                60529500,
                61118623,
                61813817,
                62421080,
                62916556,
                63423412,
                64038188,
                64678508,
                65369108,
                66065526,
                66707674,
                67251620,
                67786792,
                68417412,
                69082871,
                70578214,
                71284057,
                71932526,
                72471345,
                73022609,
                73671245,
                74388895,
                75127518,
                75849091,
                76484421,
                77031779,
                77578178,
                78229630,
                78911777,
                79605106,
                80123690,
                80630826,
                81044116,
                81543528,
                82215270,
                82940667,
                83780383,
                84366688,
                84947957,
                85468302,
                86025987,
                86766898,
                87557932,
                88427876,
                89263433,
                90019639,
                90621065,
                91235796,
                91928285,
                92671607,
                93430773,
                94214527,
                94871413,
                95399007,
                95916323,
                96509110,
                97196330,
                97865226,
                98528721,
                99105354,
                99567331,
                100048953,
                100610289,
                101211292,
                101826463,
                102415460,
                102930278,
                103326873
        };
        //double[] dataHideri = {514193727, 514651578, 515316911, 515933560, 516521732, 517139536, 517486797, 517768926, 518482846, 519113564, 519799535, 520432217, 520997976, 521442474, 521817972, 522424241, 523018431, 523765650, 524351747, 524971342, 525342261, 525659877, 526168761, 526747772, 527382252, 527886546, 528454598, 528742750, 529020011, 529425907, 530044396, 530736510, 531260938, 531802990, 532055897, 532322063, 532758581, 533408808, 534108642, 534673577, 535217846, 535501323, 535704735, 536267825, 537111264, 537830270, 538351574, 538936864, 539165303, 539440474, 540231496, 541043665, 541849702, 542621625, 543380157, 543696818, 543983931, 544908711, 545841942, 546773441, 547831266, 548768113, 549126851, 549487312, 550385627, 551574162, 552804289, 553839430, 554824033, 555326905, 555752958, 556861685, 558056840, 559508051, 560466883, 561482523, 562034421, 562493547, 563729333, 565253457, 566850244, 567974005, 569053104, 569689482, 570239283, 571266022, 572437705, 573845726, 574940954, 576297260, 576872204, 577417212};
        Exp exp = new Exp();
        String fieldText = "";

        List<Double> Y = exp.CountY(dataHideri, dataHideri.length);
        fieldText = exp.CheckHyp(dataHideri.length);
        expText.setText(fieldText);

        XYChart.Series<Number, Number> series = new XYChart.Series<>();
        series.setName("Исходные данные");
        int i = 0;
        for (Double element : dataHideri) {
            series.getData().add(new XYChart.Data(i, element));
            i += 1;
        }
        expChart.getData().add(series);

        XYChart.Series<Number, Number> series2 = new XYChart.Series<>();
        series2.setName("Экспоненциальная функция");
        int j = 0;
        for (Double element : Y) {
            series2.getData().add(new XYChart.Data(j, element));
            j += 1;
        }
        expChart.getData().add(series2);


    }
}