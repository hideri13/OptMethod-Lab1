package co.hideri.fxkaballab0;

import javafx.fxml.FXML;
import javafx.scene.chart.LineChart;
import javafx.scene.chart.NumberAxis;
import javafx.scene.chart.XYChart;
import javafx.scene.control.TextArea;

import java.util.List;

public class ExpController {
    @FXML private NumberAxis botAx;
    @FXML private NumberAxis leftAx;
    @FXML private LineChart<Number, Number>  expChart;

    @FXML private TextArea expText;

    @FXML public void initialize(){
        this.visualize();
    }

    private void visualize() {

        //double[] dataHideri = {12038, 16787, 19887, 23899, 27644, 30806, 34400, 37131, 40162, 42771, 44814, 45232, 60384, 66912, 69055, 71238, 73273, 75155, 75655, 76216, 76846, 78608, 78990, 79558, 80412, 81384, 82728, 84152, 86023};
        double[] dataHideri = {
                955723, 1038167, 1122375, 1182508, 1254222, 1328948, 1397890, 1480067, 1567251, 1653682, 1729192, 1847773, 1919610, 2004228, 2082497, 2176956, 2264828, 2343056, 2419382, 2495874, 2571955, 2653972, 2736661, 2820231, 2903401, 2974164, 3045194, 3120949, 3198267, 3281976, 3370950, 3449173, 3523204, 3600809, 3680465, 3770907, 3859461, 3949874, 4034115, 4109328, 4185505, 4270891, 4355306, 4450950, 4547281, 4641188, 4719536, 4808676, 4904285, 5009707, 5115662, 5222914, 5327021, 5420228, 5508439, 5600797, 5703352, 5823344, 5944818, 6079862, 6182722, 6283007, 6405752, 6517005, 6655331, 6788893, 6918226, 7029236, 7132289, 7258292, 7395486, 7531678, 7659166, 7793075, 7925019, 8049957, 8193863, 8337068, 8480214, 8661206, 8847077, 8940122, 9082467, 9250645, 9422124, 9601643, 9794139, 9970562, 10139020, 10291742, 10475496
        };
        //double[] dataHideri = {514193727, 514651578, 515316911, 515933560, 516521732, 517139536, 517486797, 517768926, 518482846, 519113564, 519799535, 520432217, 520997976, 521442474, 521817972, 522424241, 523018431, 523765650, 524351747, 524971342, 525342261, 525659877, 526168761, 526747772, 527382252, 527886546, 528454598, 528742750, 529020011, 529425907, 530044396, 530736510, 531260938, 531802990, 532055897, 532322063, 532758581, 533408808, 534108642, 534673577, 535217846, 535501323, 535704735, 536267825, 537111264, 537830270, 538351574, 538936864, 539165303, 539440474, 540231496, 541043665, 541849702, 542621625, 543380157, 543696818, 543983931, 544908711, 545841942, 546773441, 547831266, 548768113, 549126851, 549487312, 550385627, 551574162, 552804289, 553839430, 554824033, 555326905, 555752958, 556861685, 558056840, 559508051, 560466883, 561482523, 562034421, 562493547, 563729333, 565253457, 566850244, 567974005, 569053104, 569689482, 570239283, 571266022, 572437705, 573845726, 574940954, 576297260, 576872204, 577417212};
        Exp exp = new Exp();
        String fieldText = "";

        List<Double> Y = exp.CountY(dataHideri, dataHideri.length);
        fieldText = exp.CheckHyp(dataHideri.length);
        expText.setText(fieldText);

        XYChart.Series<Number, Number> series = new XYChart.Series<>();
        series.setName("Исходные данные");
        int i = 0;
        for (Double element : dataHideri) {
            series.getData().add(new XYChart.Data(i, element));
            i += 1;
        }
        expChart.getData().add(series);

        XYChart.Series<Number, Number> series2 = new XYChart.Series<>();
        series2.setName("Экспоненциальная функция");
        int j = 0;
        for (Double element : Y) {
            series2.getData().add(new XYChart.Data(j, element));
            j += 1;
        }
        expChart.getData().add(series2);
    }
}